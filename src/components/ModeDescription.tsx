import React from 'react';

interface ModeDescriptionProps {
  mode: string;
  x: number;
  y: number;
}

const descriptions: Record<string, { title: string; text: string }> = {
  'classic': {
    title: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º',
    text: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–º–µ–π–∫–∏. –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å —Å–æ–±–æ–π –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ –∑–º–µ–π–∫–∞–º–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–º–µ—Ä—Ç–∏. –°–æ–±–∏—Ä–∞–π—Ç–µ —è–±–ª–æ–∫–∏ –∏ —Ä–∞—Å—Ç–∏—Ç–µ!'
  },
  'ghost-main': {
    title: '–†–µ–∂–∏–º—ã –ø—Ä–∏–∑—Ä–∞–∫–∞',
    text: '–í —ç—Ç–∏—Ö —Ä–µ–∂–∏–º–∞—Ö –∑–º–µ–π–∫–∏ –º–æ–≥—É—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø—Ä–∏–∑—Ä–∞–∫–∞–º–∏. –•–≤–æ—Å—Ç –ø—Ä–∏–∑—Ä–∞–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∏–¥–∏–º—ã–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–µ–≥–æ.'
  },
  'half-ghost': {
    title: '–ü–æ–ª—É–ø—Ä–∏–∑—Ä–∞–∫',
    text: '–°–ª—É—á–∞–π–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ –ø—Ä–∏–∑—Ä–∞–∫–∞ –Ω–∞ 5 —Å–µ–∫—É–Ω–¥. –•–≤–æ—Å—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–≤–∏–¥–∏–º—ã–º –∏ –Ω–µ –∏–º–µ–µ—Ç —Ö–∏—Ç–±–æ–∫—Å–∞. –ì–æ–ª–æ–≤–∞ –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è.'
  },
  'family-ghost': {
    title: '–°–µ–º–µ–π–∫–∞ –Ω–µ–¥–æ–ø—Ä–∏–∑—Ä–∞–∫–æ–≤',
    text: '–†–µ–∂–∏–º –ø—Ä–∏–∑—Ä–∞–∫–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º –∏ –±–æ—Ç–∞–º. –•–≤–æ—Å—Ç –Ω–µ–≤–∏–¥–∏–º, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ö–∏—Ç–±–æ–∫—Å - –º–æ–∂–Ω–æ —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è!'
  },
  'full-ghost': {
    title: '–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–∏–∑—Ä–∞–∫',
    text: '–ò–≥—Ä–æ–∫–∏ –≤—Å–µ–≥–¥–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–∏–∑—Ä–∞–∫–∞. –¢–æ–ª—å–∫–æ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–∑—Ä–∞–∫–∏ –º–æ–≥—É—Ç —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å —Ö–≤–æ—Å—Ç–æ–º –ø—Ä–∏–∑—Ä–∞–∫–∞. –ë–æ—Ç—ã –∏–≥—Ä–∞—é—Ç –æ–±—ã—á–Ω–æ.'
  },
  'all-ghosts': {
    title: '–ö–æ–º–ø–∞—à–∫–∞ –ø—Ä–∏–∑—Ä–∞–∫–æ–≤',
    text: '–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ (–∏–≥—Ä–æ–∫–∏ –∏ –±–æ—Ç—ã) –≤—Å–µ–≥–¥–∞ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–∏–∑—Ä–∞–∫–∞. –•–≤–æ—Å—Ç—ã –Ω–µ–≤–∏–¥–∏–º—ã, –Ω–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç.'
  },
  'magic-shooter': {
    title: '–ú–∞–≥–∏—á–µ—Å–∫–∏–π —à—É—Ç–µ—Ä',
    text: '–ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã–µ —è–±–ª–æ–∫–∏ (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ —Å–æ –∑–≤–µ–∑–¥–æ–π) –¥–∞—é—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ 10 —Å–µ–∫—É–Ω–¥:\nüî´ –û—Ä—É–∂–∏–µ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–µ–ª—å–±–∞\nüõ°Ô∏è –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å - –ø—Ä–æ—Ö–æ–¥ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏—Ö\nüíß –î–∏–∞—Ä–µ—è - –ø–æ—Ç–µ—Ä—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫'
  }
};

export const ModeDescription: React.FC<ModeDescriptionProps> = ({ mode, x, y }) => {
  const desc = descriptions[mode];
  if (!desc) return null;

  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π
  const maxWidth = 300;
  const padding = 15;
  
  // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π
  let left = x - maxWidth / 2;
  let top = y + 10; // –ü–æ–¥ –∫–Ω–æ–ø–∫–æ–π
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
  if (left + maxWidth > window.innerWidth - padding) {
    left = window.innerWidth - maxWidth - padding;
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É
  if (left < padding) {
    left = padding;
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É - –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–≤–µ—Ä—Ö—É
  if (top + 120 > window.innerHeight - padding) {
    top = y - 130; // –ù–∞–¥ –∫–Ω–æ–ø–∫–æ–π
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Ö–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É
  if (top < padding) {
    top = padding;
  }

  const style: React.CSSProperties = {
    position: 'fixed',
    left: `${left}px`,
    top: `${top}px`,
    maxWidth: `${maxWidth}px`,
    width: 'auto',
    background: 'rgba(13, 27, 42, 0.98)',
    padding: '16px',
    borderRadius: '16px',
    boxShadow: '0 8px 30px rgba(0, 0, 0, 0.5)',
    zIndex: 9999,
    border: '2px solid rgba(124, 77, 255, 0.8)',
    fontSize: '14px',
    backdropFilter: 'blur(10px)',
    color: '#e9ecef',
    pointerEvents: 'none',
    maxHeight: '80vh',
    overflow: 'auto'
  };

  return (
    <div style={style}>
      <h3 style={{ color: '#00FF7F', marginBottom: '8px', fontSize: '18px', textShadow: '0 0 10px rgba(0, 200, 83, 0.6)' }}>
        {desc.title}
      </h3>
      <p style={{ margin: 0, lineHeight: '1.5', whiteSpace: 'pre-line' }}>
        {desc.text}
      </p>
    </div>
  );
};
