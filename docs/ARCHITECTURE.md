# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä

–ò–≥—Ä–∞ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Å –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ HTML (5100+ —Å—Ç—Ä–æ–∫) –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns)
- **Canvas** - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–≥—Ä—ã
- **React** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –ª–æ–≥–∏–∫–∞

### 2. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å
–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –∑–∞–¥–∞—á—É –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

### 3. –¢–∏–ø–∏–∑–∞—Ü–∏—è
TypeScript –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## –°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         React UI Layer              ‚îÇ  <- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         Game Logic Layer            ‚îÇ  <- –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         Rendering Layer             ‚îÇ  <- Canvas —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         Input Layer                 ‚îÇ  <- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. Core (–Ø–¥—Ä–æ –∏–≥—Ä—ã)

#### GameEngine.ts
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –í—Å—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –§–∏–∑–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
- –õ–æ–≥–∏–∫–∞ –±–æ—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

**–ú–µ—Ç–æ–¥—ã:**
```typescript
initGame(humanCount, botCount, gameMode, controls)
update()
changeDirection(playerIndex, direction)
shoot(playerIndex)
pause() / resume() / stop()
```

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
```typescript
{
  players: Player[],
  foods: Food[],
  particles: Particle[],
  bullets: Bullet[],
  gameMode: GameMode,
  running: boolean,
  paused: boolean
}
```

#### Renderer.ts
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –Ω–∞ Canvas
- –û—á–∏—Å—Ç–∫–∞ canvas
- –†–∏—Å–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∫–∏
- –†–∏—Å–æ–≤–∞–Ω–∏–µ –∑–º–µ–µ–∫
- –†–∏—Å–æ–≤–∞–Ω–∏–µ –µ–¥—ã
- –†–∏—Å–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
- –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø—É–ª—å

**–ú–µ—Ç–æ–¥—ã:**
```typescript
render(state: GameState)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ Canvas API
- –ù–µ –∑–Ω–∞–µ—Ç –æ –ª–æ–≥–∏–∫–µ –∏–≥—Ä—ã
- –ü–æ–ª—É—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–∏—Å—É–µ—Ç –µ–≥–æ

#### InputHandler.ts
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (4 —Å—Ö–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- –°–µ–Ω—Å–æ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω (—Å–≤–∞–π–ø—ã)
- –ü–∞—É–∑–∞

**–ú–µ—Ç–æ–¥—ã:**
```typescript
constructor(canvas, onDirectionChange, onPause, onShoot)
destroy()
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–≤–∞–π–ø–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è

### 2. Components (React UI)

#### MainMenu.tsx
–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º —Ä–µ–∂–∏–º–∞ (–æ—Ñ–ª–∞–π–Ω/–º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä)

#### GameSetup.tsx
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ (1-4)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤ (0-7)
- –†–µ–∂–∏–º –∏–≥—Ä—ã
- –°—Ö–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### GameCanvas.tsx
–û–±–µ—Ä—Ç–∫–∞ –¥–ª—è Canvas —Å –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º:
```typescript
const gameLoop = (timestamp) => {
  if (timestamp - lastUpdateTime >= GAME_SPEED) {
    engine.update();
  }
  renderer.render(engine.getState());
  requestAnimationFrame(gameLoop);
};
```

#### ScoreBoard.tsx
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### PauseMenu.tsx
–ú–µ–Ω—é –ø–∞—É–∑—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" –∏ "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"

#### GameOver.tsx
–≠–∫—Ä–∞–Ω –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### 3. Types (TypeScript —Ç–∏–ø—ã)

```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã
Position, Direction, Snake, Player, Food, Particle, Bullet

// –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
PlayerType = 'human' | 'bot'
ControlType = 'keyboard1' | 'keyboard2' | 'keyboard3' | 'keyboard4' | 'swipe'
GameMode = 'classic' | 'half-ghost' | 'family-ghost' | 'full-ghost' | 'all-ghosts' | 'magic-shooter'
BotStrategy = AGGRESSIVE | CAUTIOUS | RANDOM | TERRITORIAL | HUNTER
SpecialEffect = WEAPON | INVULNERABILITY | DIARRHEA

// –°–æ—Å—Ç–æ—è–Ω–∏—è
GameState, MultiplayerState
```

### 4. Constants (–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã)

```typescript
// –†–∞–∑–º–µ—Ä—ã
GRID_SIZE = 20
TILE_COUNT_X = 60
TILE_COUNT_Y = 30
CANVAS_WIDTH = 1200
CANVAS_HEIGHT = 600

// –õ–∏–º–∏—Ç—ã
MAX_PLAYERS = 8
MAX_PARTICLES = 300
MAX_BULLETS = 20
MAX_FOODS = 8

// –°–∫–æ—Ä–æ—Å—Ç—å
GAME_SPEED = 100 // ms

// –¶–≤–µ—Ç–∞
COLOR_PALETTE: ColorScheme[]

// –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
DIRECTIONS = { UP, DOWN, LEFT, RIGHT }
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
User Input
    ‚Üì
InputHandler
    ‚Üì
GameEngine.changeDirection()
    ‚Üì
GameEngine.update()
    ‚Üì
GameState
    ‚Üì
Renderer.render()
    ‚Üì
Canvas
```

## –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª

```typescript
// 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ (–∫–∞–∂–¥—ã–µ 100ms)
if (timestamp - lastUpdateTime >= GAME_SPEED) {
  // –ë–æ—Ç—ã –¥—É–º–∞—é—Ç
  players.forEach(player => {
    if (player.type === 'bot') botThink(player);
  });
  
  // –ó–º–µ–π–∫–∏ –¥–≤–∏–≥–∞—é—Ç—Å—è
  moveSnakes();
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  updateEffects();
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
  updateParticles();
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É–ª—å
  updateBullets();
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
  checkGameOver();
}

// 2. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä)
renderer.render(gameState);

// 3. –°–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä
requestAnimationFrame(gameLoop);
```

## –õ–æ–≥–∏–∫–∞ –±–æ—Ç–æ–≤

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏
1. **AGGRESSIVE** - –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∏–¥–µ—Ç –∫ –µ–¥–µ
2. **CAUTIOUS** - –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –∏–∑–±–µ–≥–∞–µ—Ç —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
3. **RANDOM** - —Å–ª—É—á–∞–π–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è
4. **TERRITORIAL** - –∑–∞—â–∏—â–∞–µ—Ç —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é
5. **HUNTER** - –æ—Ö–æ—Ç–∏—Ç—Å—è –Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ (–ø—Ä–∏ –¥–ª–∏–Ω–µ >= 80)

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
```typescript
1. –ù–∞–π—Ç–∏ –±–ª–∏–∂–∞–π—à—É—é –µ–¥—É
2. –ü–æ–ª—É—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
3. –û—Ü–µ–Ω–∏—Ç—å –∫–∞–∂–¥–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
   - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –µ–¥—ã
   - –°–≤–æ–±–æ–¥–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤–æ—Ä–æ—Ç–æ–≤
   - –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
4. –í—ã–±—Ä–∞—Ç—å –ª—É—á—à–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```

## –†–µ–∂–∏–º—ã –∏–≥—Ä—ã

### Classic
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–º–µ–π–∫–∏

### Ghost Modes
- **Half-Ghost**: –°–ª—É—á–∞–π–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–∏–∑—Ä–∞–∫–∞
- **Family-Ghost**: –ü—Ä–∏–∑—Ä–∞–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
- **Full-Ghost**: –ò–≥—Ä–æ–∫–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–∑—Ä–∞–∫–∏
- **All-Ghosts**: –í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–∏–∑—Ä–∞–∫–∏

**–ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–∏–∑—Ä–∞–∫–∞:**
- –•–≤–æ—Å—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–∏–¥–∏–º—ã–º
- –ú–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —Ö–≤–æ—Å—Ç—ã
- –ì–æ–ª–æ–≤–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º–æ–π

### Magic Shooter
–ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã–µ —è–±–ª–æ–∫–∏ –¥–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã:
- **Weapon**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–µ–ª—å–±–∞
- **Invulnerability**: –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å 10 —Å–µ–∫
- **Diarrhea**: –ü–æ—Ç–µ—Ä—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
1. **Canvas –≤–º–µ—Å—Ç–æ DOM** - –±—ã—Å—Ç—Ä–µ–µ –≤ 10+ —Ä–∞–∑
2. **–õ–∏–º–∏—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤** - MAX_PARTICLES, MAX_BULLETS
3. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à–∞–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - 100ms
4. **requestAnimationFrame** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —ç–∫—Ä–∞–Ω–æ–º
5. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —á–∞—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

### –ú–µ—Ç—Ä–∏–∫–∏
- 60 FPS —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- 10 TPS –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- < 5ms –Ω–∞ –∫–∞–¥—Ä —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- < 10ms –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

## –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã

1. –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø:
```typescript
// types/game.ts
export type GameMode = 'classic' | 'new-mode';
```

2. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É:
```typescript
// core/GameEngine.ts
if (this.state.gameMode === 'new-mode') {
  // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
}
```

3. –î–æ–±–∞–≤—å—Ç–µ UI:
```tsx
// components/GameSetup.tsx
<button onClick={() => setGameMode('new-mode')}>
  –ù–æ–≤—ã–π —Ä–µ–∂–∏–º
</button>
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–æ—Ç–∞

1. –î–æ–±–∞–≤—å—Ç–µ –≤ enum:
```typescript
// types/game.ts
export enum BotStrategy {
  NEW_STRATEGY = 5
}
```

2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É:
```typescript
// core/GameEngine.ts
private botThink(index: number) {
  if (strategy === BotStrategy.NEW_STRATEGY) {
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
  }
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

1. –î–æ–±–∞–≤—å—Ç–µ –≤ enum:
```typescript
// types/game.ts
export enum SpecialEffect {
  NEW_EFFECT = 3
}
```

2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```typescript
// core/GameEngine.ts
private applySpecialEffect(playerIndex: number) {
  if (effect === SpecialEffect.NEW_EFFECT) {
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
  }
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```typescript
// –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ GameEngine
describe('GameEngine', () => {
  it('should initialize game correctly', () => {
    const engine = new GameEngine();
    engine.initGame(2, 2, 'classic', ['keyboard1', 'keyboard2']);
    expect(engine.getState().players.length).toBe(4);
  });
});
```

### Integration —Ç–µ—Å—Ç—ã
```typescript
// –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
describe('Game Loop', () => {
  it('should update and render', () => {
    const engine = new GameEngine();
    const renderer = new Renderer(canvas);
    
    engine.update();
    renderer.render(engine.getState());
    
    expect(canvas.getContext('2d')).toBeDefined();
  });
});
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è |
|--------|---------------|--------------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | 5100+ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ | ~2000 –≤ –º–æ–¥—É–ª—è—Ö |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | –ù–µ—Ç | TypeScript |
| –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ | –õ–µ–≥–∫–æ |
| –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ | –õ–µ–≥–∫–æ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è |

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebSocket
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

2. **–ó–≤—É–∫–∏**
   - Web Audio API
   - –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
   - –§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**
   - localStorage –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä
   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

4. **PWA**
   - Service Worker
   - –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - Web Workers –¥–ª—è –±–æ—Ç–æ–≤
   - OffscreenCanvas
   - WebGL —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
